# 0.27 Status (as of 2026-02-23)

## 0.27 Scope

This status tracks index-only predicate evaluation from:

- `docs/design/0.27-index-only-predicate-evaluation.md`

In scope for `0.27`:

- expose predicate-required slot indices from compiled predicates
- compare required predicate slots against active index model fields
- evaluate eligible predicates directly from `RawIndexKey` on index-backed paths
- skip row reads for rejected keys and only deserialize surviving rows
- wire index-only predicate filtering into load fast-path routing

Out of scope for `0.27`:

- predicate DSL expansion
- planner cost-model redesign
- cursor envelope redesign
- mandatory index-only behavior for all predicate shapes

---

## Release Snapshot

- [ ] `0.27.0` released (`Cargo.toml` version is currently `0.26.3`)
- [x] Milestone tracker created
- [x] Design doc created (`docs/design/0.27-index-only-predicate-evaluation.md`)
- [x] Prerequisite audit completed
- [x] `PredicateFieldSlots::required_slots()` landed
- [x] Predicate-vs-index coverage gate scaffold landed (route helper + tests)
- [x] Compiled index-component predicate program scaffold landed (strict subset)
- [x] Raw index-key predicate evaluation helper landed
- [x] Load key-stream integration landed for index-backed access paths (fast-path + fallback wiring)
- [x] `0.27.1` hardening matrix landed (parity/invariants, operator-coercion matrix, continuation+`DISTINCT`, trace observability)

Overall status: **`0.27.0` core and `0.27.1` hardening are implemented.**

---

## Current Baseline

- Runtime predicate evaluation is slot-based and uses `get_value_by_index`.
- Executable plans already carry compiled predicate slots into load execution.
- `PredicateFieldSlots` now exposes deterministic required field slots (`required_slots()`).
- Route now has an index-slot coverage helper for compiled predicates on single-path index access shapes.
- Predicate module now includes a strict-subset index predicate compiler and raw-key evaluator.
- Load execution now compiles optional index-only predicate programs for covered index paths.
- Index-backed traversal paths now support raw-key predicate filtering before key materialization when eligible.

---

## Prerequisite Readout

| Prerequisite | Status |
| --- | --- |
| Slot-based runtime predicate evaluation | Done |
| Compiled predicate slots threaded into execution | Done |
| Raw index key decode available | Done |
| Required-slot exposure API | Done |
| Predicate/index coverage gate | Done |
| Raw index predicate evaluator | Done |
| Route integration for index-only filtering | Done (initial strict-subset wiring) |

---

## `0.27.1` Hardening (Completed)

Completed in this patch:

1. Parity and row-read reduction invariants for eligible/ineligible shapes.
2. Operator/coercion matrix coverage for compile eligibility and fallback behavior.
3. Continuation and `DISTINCT` interaction coverage on index-only-enabled shapes.
4. Explain/trace observability for index-only predicate activation.

---

## Verification Run (this pass)

- `cargo check -p icydb-core` (pass)
