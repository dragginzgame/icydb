# 0.11 Status (as of 2026-02-16)

## 0.11 Scope

This status tracks progress against `docs/design/0.11-range-pushdown.md` for
the `0.11.x` Secondary Range Pushdown work.

---

## Release Snapshot

- [ ] `0.11.0` not released
- [x] Phase 0 guardrails completed (explicit `AccessPath::IndexRange` shape +
  exhaustiveness wiring across explain/hash/canonical/trace/debug/metrics)
- [ ] Planner emission and bound-construction helpers not implemented yet
- [ ] Executor secondary range traversal not implemented yet
- [ ] Full parity/regression matrix not implemented yet

Overall status for 0.11 tracked work: **20% complete**.

---

## 0.11 Plan Alignment (Secondary Range Pushdown)

### 1. Planner Access-Path Extension

- Progress: **40%**
- Done:
  - Added explicit secondary range path: `AccessPath::IndexRange { index,
    prefix, lower, upper }`.
  - Added explain/hash/canonical/trace/debug/metrics handling for
    `IndexRange`.
- Remaining:
  - Planner predicate analysis + emission for valid range shapes.

### 2. Eligibility Matrix Extension

- Progress: **0%**
- Planned: prefix-equality + first non-equality range-component validation for
  `IndexRange` pushdown.

### 3. Bound Construction Correctness

- Progress: **35%**
- Done:
  - Canonical bound discriminant ordering is defined and tested for
    `Unbounded`, `Included`, `Excluded`.
  - Hash encoding uses explicit bound discriminants + canonical value bytes.
  - Canonical-vs-hash alignment tests added for bound and index identity cases.
- Remaining:
  - Operator-to-bound mapping helpers for `>`, `>=`, `<`, `<=`, `BETWEEN`.
  - PK tie-break bound helpers used by executor traversal.

### 4. Executor Traversal + Fallback Equivalence

- Progress: **10%**
- Done:
  - Executor validates/recognizes `IndexRange` shape.
  - Runtime currently hard-fails `IndexRange` execution with invariant error
    until traversal is implemented.
- Remaining:
  - Bounded secondary index traversal implementation.
  - Fallback-equivalence behavior and parity suite.

### 5. Pagination and Cursor Invariants

- Progress: **0%**
- Planned: preserve monotonic ordering, no-duplicate/no-skip paging, and
  continuation signature validation.

### 6. Required Test Matrix

- Progress: **15%**
- Done:
  - Determinism/alignment tests for canonical ordering vs fingerprint hashing
    on `IndexRange` bounds and index identity.
- Planned: single-field ranges, composite prefix+range, BETWEEN, pagination
  under range, fallback parity, and edge-value coverage.

### 7. Explicit Non-Goals (Locked)

- No multi-index intersection
- No cost-based planning
- No OR-range decomposition
- No multi-interval pushdown

---

## Range-Pushdown Design Readout

- Design direction is solid and additive: it leverages 0.10 canonical ordering
  without changing storage or cursor format.
- Phase 0 guardrails are in place: secondary range shape is explicit and
  exhaustively projected across plan surfaces.
- Biggest remaining correctness risk is still boundary construction
  (inclusive/exclusive and composite prefix edges) during operator mapping and
  traversal implementation.
- Next implementation step should lock exact operator-bound mapping in one
  table-driven helper and reuse it across planner + executor boundary handling.

---

## Next Checkpoint

1. Implement planner-side range predicate extraction and `IndexRange` emission.
2. Add canonical bound-construction helpers for `>`, `>=`, `<`, `<=`,
   `BETWEEN`.
3. Implement bounded secondary index traversal in executor/index-store.
4. Add parity tests (pushdown vs fallback) for range shapes + pagination.
