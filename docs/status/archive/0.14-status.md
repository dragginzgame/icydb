# 0.14 Status (as of 2026-02-18)

## 0.14 Scope

This status tracks progress against `docs/design/0.14-desc-support.md` for
the `0.14.x` single-path `AccessPath::IndexRange` DESC support milestone.

In scope for `0.14`:

- DESC traversal for single-path `IndexRange`
- DESC continuation semantics (`Bound::Excluded(last_raw_key)` on upper side)
- Direction-aware cursor and plan identity behavior
- Deterministic pagination parity and symmetry checks

Out of scope for `0.14`:

- Composite access tree DESC (`Union` / `Intersection`)
- Mixed ASC/DESC multi-field ordering
- PK `KeyRange` DESC (unless trivial)
- Binary cursor encoding

---

## Release Snapshot

- [ ] `0.14.0` not released
- [x] Pre-DESC structural containment is in place (`Direction`, centralized
  `resume_bounds`, centralized anchor envelope checks)
- [x] Cursor token wire format already includes direction and validates
  direction match at decode time
- [x] Plan identity already incorporates order direction
- [x] `PlanError` domain split has been completed for 0.14 governance scope
- [x] DESC traversal is active for single-path `IndexRange` store execution
- [x] Planner/executable direction selection is data-driven from canonical
  order direction (`Desc` when leading ordered field is descending)
- [x] DESC pagination parity matrix is implemented for single-path `IndexRange`
- [x] Completion audit gate passed (`cargo fmt --all`, `cargo clippy --workspace --all-targets --all-features -- -D warnings`, `cargo test --workspace`)

Overall status for 0.14 tracked work: **100% complete**.

---

## 0.14 Plan Alignment (DESC Support for IndexRange)

### 1. Direction Model and Structural Containment

- Progress: **100%**
- Done:
  - Direction is represented as data (`Asc` / `Desc`) in index and cursor flow.
  - Continuation rewrite is centralized via `resume_bounds(...)`.
  - Envelope checks are centralized via `anchor_within_envelope(...)`.
  - Cursor payload carries direction and validates plan-direction compatibility.
  - Executable direction is now derived for single-path `IndexRange` plans.
- Remaining:
  - No known structural-containment gaps for current 0.14 scope.

### 2. Plan Identity and Fingerprint Semantics

- Progress: **100%**
- Done:
  - Order direction is encoded into plan hashing/fingerprint inputs.
  - DESC-aware ordering tags are already part of canonical hash encoding.
- Remaining:
  - No known identity-surface gaps for current 0.14 scope.

### 3. Store Traversal Semantics (`IndexRange` DESC)

- Progress: **100%**
- Done:
  - Store API already accepts `direction` in range resolution paths.
  - One dispatch point exists for direction-aware range stream selection.
  - `IndexRange` store traversal now reverses iteration for `Direction::Desc`
    while preserving canonical raw bound construction.
  - Continuation advancement checks are now direction-aware at store execution
    time (`>` for ASC, `<` for DESC).
  - `IndexRange` limit pushdown now accepts direction-uniform DESC ordering
    shapes (for example `tag DESC, id DESC`) instead of assuming ASC-only.
- Remaining:
  - No known traversal-shape gaps for current 0.14 scope.

### 4. Continuation Semantics (DESC)

- Progress: **100%**
- Done:
  - DESC bound rewrite shape is implemented in shared continuation helper
    (upper bound rewritten to `Excluded(anchor)`).
  - Cursor boundary/anchor consistency checks are centralized through one spine.
  - Direction-aware monotonic continuation checks are now enforced during store
    range iteration.
  - Explicit DESC continuation coverage now includes mixed-envelope and
    duplicate-group boundary resumes for single-field and composite ranges.
- Remaining:
  - No known continuation-shape gaps for current 0.14 scope.

### 5. Executor Direction Wiring

- Progress: **100%**
- Done:
  - Executor and store layers already thread a `Direction` parameter.
  - Planner/executable now derive `Direction::Desc` from canonical order
    direction across plan shapes.
  - PK stream fast path now executes descending scans for PK-desc load orders.
  - Secondary-index ORDER BY pushdown eligibility now accepts direction-uniform
    descending order specs.
- Remaining:
  - No known direction-wiring gaps for current 0.14 scope.

### 6. Test Matrix and Success Criteria

- Progress: **100%**
- Done:
  - Containment-level tests exist for directional bound rewrite symmetry and
    envelope containment parity.
  - Existing ASC pagination and range tests provide baseline regression coverage.
  - Added directional monotonic advancement unit coverage at index-range level.
  - DESC-sensitive parity and continuation tests pass for single-field and
    composite `IndexRange` parity matrix cases.
  - Added explicit DESC boundary edge tests for:
    upper-anchor resume progression, lower-boundary exhaustion, single-element
    exhaustion, and deterministic multi-page descending continuation.
  - Added explicit full-result directional equivalence coverage:
    `reverse(ASC) == DESC` for single-field `IndexRange`.
  - Added explicit full-result directional equivalence coverage for composite
    prefix+range and unique index-range paths.
  - Added explicit mixed-envelope DESC continuation coverage for duplicate
    tie-groups and strict boundary resume semantics.
  - Added explicit DESC coverage for secondary-order pushdown eligibility
    (explicit PK-desc tie-break), PK fast-path parity, and index-range
    limit-pushdown trace behavior.
- Remaining:
  - No known matrix-coverage gaps for current 0.14 scope.

---

## 0.14 Readout

- 0.14 starts from a good structural base: direction is already contained and
  cursor/bound logic has single authority points.
- Active execution risk has been reduced by direct DESC continuation and
  parity coverage in single-field, composite, and unique `IndexRange` paths.
- The highest remaining risk is release hygiene: keep the gate green while
  finalizing the cut.
- The current codebase is prepared for a targeted implementation pass rather
  than architectural redesign.

---

## Next Checkpoint

1. Keep full release gate green (`fmt`, `clippy`, `check`, workspace tests) through cut.
2. Cut `0.14.0` once release checklist and changelog finalization are complete.
