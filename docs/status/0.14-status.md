# 0.14 Status (as of 2026-02-18)

## 0.14 Scope

This status tracks progress against `docs/design/0.14-desc-support.md` for
the `0.14.x` single-path `AccessPath::IndexRange` DESC support milestone.

In scope for `0.14`:

- DESC traversal for single-path `IndexRange`
- DESC continuation semantics (`Bound::Excluded(last_raw_key)` on upper side)
- Direction-aware cursor and plan identity behavior
- Deterministic pagination parity and symmetry checks

Out of scope for `0.14`:

- Composite access tree DESC (`Union` / `Intersection`)
- Mixed ASC/DESC multi-field ordering
- PK `KeyRange` DESC (unless trivial)
- Binary cursor encoding

---

## Release Snapshot

- [ ] `0.14.0` not released
- [x] Pre-DESC structural containment is in place (`Direction`, centralized
  `resume_bounds`, centralized anchor envelope checks)
- [x] Cursor token wire format already includes direction and validates
  direction match at decode time
- [x] Plan identity already incorporates order direction
- [x] `PlanError` domain split has been completed for 0.14 governance scope
- [ ] DESC traversal is not active in store execution yet
- [x] Planner/executable direction selection is wired for single-path
  `IndexRange` (`Desc` when first ordered field is descending)
- [ ] DESC pagination parity matrix is not implemented yet

Overall status for 0.14 tracked work: **50% complete**.

---

## 0.14 Plan Alignment (DESC Support for IndexRange)

### 1. Direction Model and Structural Containment

- Progress: **100%**
- Done:
  - Direction is represented as data (`Asc` / `Desc`) in index and cursor flow.
  - Continuation rewrite is centralized via `resume_bounds(...)`.
  - Envelope checks are centralized via `anchor_within_envelope(...)`.
  - Cursor payload carries direction and validates plan-direction compatibility.
  - Executable direction is now derived for single-path `IndexRange` plans.
- Remaining:
  - No known structural-containment gaps for current 0.14 scope.

### 2. Plan Identity and Fingerprint Semantics

- Progress: **100%**
- Done:
  - Order direction is encoded into plan hashing/fingerprint inputs.
  - DESC-aware ordering tags are already part of canonical hash encoding.
- Remaining:
  - No known identity-surface gaps for current 0.14 scope.

### 3. Store Traversal Semantics (`IndexRange` DESC)

- Progress: **15%**
- Done:
  - Store API already accepts `direction` in range resolution paths.
  - One dispatch point exists for direction-aware range stream selection.
- Remaining:
  - `index_range_stream(...)` still ignores direction and does not reverse traversal.
  - DESC continuation advancement checks are not enforced in reverse direction yet.

### 4. Continuation Semantics (DESC)

- Progress: **35%**
- Done:
  - DESC bound rewrite shape is implemented in shared continuation helper
    (upper bound rewritten to `Excluded(anchor)`).
  - Cursor boundary/anchor consistency checks are centralized through one spine.
- Remaining:
  - DESC continuation advancement comparator remains ASC-shaped.
  - End-to-end DESC continuation behavior is not active until traversal direction is wired.

### 5. Executor Direction Wiring

- Progress: **45%**
- Done:
  - Executor and store layers already thread a `Direction` parameter.
  - Planner/executable now derive `Direction::Desc` for single-path
    `IndexRange` plans with descending leading order field.
- Remaining:
  - DESC direction is still not active end-to-end until store traversal and
    continuation advancement become direction-aware.

### 6. Test Matrix and Success Criteria

- Progress: **20%**
- Done:
  - Containment-level tests exist for directional bound rewrite symmetry and
    envelope containment parity.
  - Existing ASC pagination and range tests provide baseline regression coverage.
- Remaining:
  - Missing DESC equivalence tests (`ASC reversed == DESC`) for `IndexRange`.
  - Missing DESC continuation pagination matrix (inclusive/exclusive edges,
    group boundaries, exhaustion, unique and non-unique indexes).

---

## 0.14 Readout

- 0.14 starts from a good structural base: direction is already contained and
  cursor/bound logic has single authority points.
- The highest remaining risk is execution semantics, not type structure:
  traversal direction and reverse continuation advancement must be activated
  together to avoid duplicate/skip regressions.
- The current codebase is prepared for a targeted implementation pass rather
  than architectural redesign.

---

## Next Checkpoint

1. Activate reverse traversal in store range streaming and enforce DESC
   continuation advancement checks.
2. Add DESC parity and multi-page continuation matrix tests from the 0.14 design.
3. Re-run full release gate (`fmt`, `clippy`, `check`, workspace tests) before cut.
