# 0.35 Status (as of 2026-03-01)

## 0.35 Scope

This status tracks `GROUP BY` rollout work for `0.35.x` from:

- `docs/design/0.35-group-by.md`
- `docs/changelog/0.35.md`

`0.35` builds on the grouped runtime and session boundaries shipped in `0.33`,
with a focus on fluent API ergonomics, grouped continuation behavior, and
contract hardening.

---

## In Scope (`0.35.x`)

- grouped fluent query-shape builders on load queries
- grouped fluent execution entrypoint (`execute_grouped`) on core and facade APIs
- grouped continuation behavior validation through fluent entrypoints
- grouped boundary guardrails (explicit rejection when grouped execution is requested for scalar plan shape)
- grouped release bookkeeping in changelog/status docs

## Out of Scope (`0.35.x`)

- `HAVING` clause support
- window functions
- nested grouping stages
- user-defined aggregates
- storage-layer aggregate pushdown
- distributed/partial aggregation

---

## Release Snapshot (`0.35.x`)

- [ ] `0.35.0` released
- [x] `0.35.x` root changelog line initialized
- [x] `docs/changelog/0.35.md` initialized
- [x] grouped fluent query-shape methods added to core load query API:
  - `group_by`, `group_count`, `group_exists`, `group_first`, `group_last`, `group_min`, `group_max`, `grouped_limits`
- [x] grouped fluent execution entrypoint added to core load query API:
  - `execute_grouped`
- [x] grouped fluent query-shape methods added to facade load query API
- [x] grouped fluent execution entrypoint added to facade load query API:
  - `execute_grouped` returning `PagedGroupedResponse`
- [x] grouped fluent tests added for:
  - scalar-shape rejection at grouped execution boundary
  - grouped continuation pagination round-trip
- [x] grouped pagination without explicit `ORDER BY` is allowed via canonical grouped-key order (scalar unordered pagination policy unchanged)
- [x] grouped scalar fluent misuse now fails early as intent errors on `.page()` / `.execute()` paths, directing callers to `execute_grouped(...)`
- [x] grouped fluent id-extrema terminals (`group_min`, `group_max`) added and behavior-covered
- [x] grouped field-target extrema (`group_min_by`, `group_max_by`) explicitly deferred in grouped v1 with fail-fast intent errors

Current `0.35.x` status: **in progress**.

---

## Phase Tracker

### Phase 0 - Line Bootstrap

- [x] `0.35` changelog line created
- [x] detailed minor changelog created
- [x] status tracker created

### Phase 1 - Fluent Grouped Surface

- [x] grouped fluent builder methods on core load query
- [x] grouped fluent builder methods on facade load query
- [x] grouped fluent execution entrypoint on core load query
- [x] grouped fluent execution entrypoint on facade load query

### Phase 2 - Behavior and Guardrails

- [x] grouped fluent continuation behavior covered by tests
- [x] grouped fluent scalar-shape misuse covered by tests
- [x] grouped pagination policy review for `GROUP BY` default ordering ergonomics

### Phase 3 - Expansion (Planned)

- [ ] expand grouped fluent aggregate terminal coverage as needed
- [ ] continue grouped boundary cleanup and readability consolidation
- [ ] finalize `0.35.0` release notes

---

## Exit Criteria (`0.35`)

`0.35` is complete when all are true:

1. grouped fluent query construction is explicit and stable at core + facade boundaries
2. grouped fluent execution and continuation behavior are test-covered
3. grouped misuse paths preserve typed invariant/error classification
4. release notes and status docs accurately reflect shipped grouped behavior

---

## Verification Readout (Current)

Executed for current `0.35` slice:

- `cargo fmt --all -- --check` (pass)
- `cargo test -p icydb-core db::executor::tests::paged_builder -- --nocapture` (pass)
- `cargo check -p icydb` (pass)
